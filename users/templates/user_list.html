<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
        }
        .create-ad-button {
            float: right;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .container {
            display: flex;
        }

        .sidebar {
            width: 200px;
            background-color: #f0f0f0;
            padding: 20px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li {
            margin-bottom: 10px;
        }

        .sidebar a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #333;
            border-radius: 5px;
            background-color: #fff;
            transition: background-color 0.3s ease;
        }

        .sidebar a:hover {
            background-color: #ddd;
        }

        .main-content {
            flex: 1;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .sorting {
            display: flex;
        }

        .sorting button {
            margin-right: 10px;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background-color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .sorting button:hover {
            background-color: #ddd;
        }

        .filters {
            display: flex;
        }

        .filters select {
            margin-right: 10px;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background-color: #fff;
        }

        .user-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .user-card {
            width: 1000px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
        }

        .user-card .user-images {
            display: flex;
            justify-content: space-between;
        }

        .user-card .user-images img, .user-card .user-images video, .user-card .user-images iframe {
            width: 250px;
            height: 250px;
            object-fit: cover;
            border-radius: 5px;
        }

        .user-card .user-info {
            margin-top: 10px;
        }

        .user-card .user-info p {
            margin: 5px 0;
        }

        .user-card .user-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .user-card button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background-color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .user-card button:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="sidebar">
            <ul>
                <li><a href="{% url 'user_list'%}">–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a></li>
                <li><a href="{% url 'report'%}">–ñ–∞–ª–æ–±—ã</a></li>
                <li><a href="{% url 'verefi'%}">–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a></li>
                <li><a href="{% url 'ad_list'%}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–æ–π</a></li>
                <li><a href="{% url 'stat'%}">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                <li><a href="{% url 'admin:index'%}">–ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
            </ul>
        </div>

    <div class="main-content">
        <form method="get">
            <div class="header">
                <div class="filters">
                    <select id="sorting" name="sorting">
                        <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
                        <option value="last_active">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Üë</option>
                        <option value="-last_active">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Üì</option>
                        <option value="registration_date">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Üë</option>
                        <option value="registration_date">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Üì</option>
                        <option value="like_users_count">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª-–≤—É –º—ç—Ç—á–µ–π ‚Üë</option>
                        <option value="-like_users_count">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª-–≤—É –º—ç—Ç—á–µ–π ‚Üì</option>
                    </select>
                </div>
                <div class="filters">
                    <p>–í–æ–∑—Ä–∞—Å—Ç </p>
                    <input type="text" id="age" name="age" placeholder="18-25">
                    <select id="gender" name="gender">
                        <option value="">–ü–æ–ª</option>
                        <option value="–º—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option>
                        <option value="–∂–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option>
                    </select>
                    <select id="city" name="city">
                        <option value="">–ì–æ—Ä–æ–¥</option>
                        {%for city in citys %}
                        <option value={{city}}>{{city}}</option>
                        {%endfor%}

                    </select>
                    <select id="category" name="category">
                        <option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option>
                        <option value="–°–≤–æ–±–æ–¥–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è‚ù§Ô∏è‚Äçüî•">–°–≤–æ–±–æ–¥–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è‚ù§Ô∏è‚Äçüî•</option>
                        <option value="–°–µ—Ä—å—ë–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—èüíû">–°–µ—Ä—å—ë–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—èüíû</option>
                        <option value="–î—Ä—É–∂–±–∞ü´°">–î—Ä—É–∂–±–∞ü´°</option>
                        <option value="–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—èü´†">–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—èü´†</option>
                    </select>
                    <select id="description" name="description">
                        <option value="">–û–ø–∏—Å–∞–Ω–∏–µ</option>
                        <option value="–¥–∞">–î–∞</option>
                        <option value="–Ω–µ—Ç">–ù–µ—Ç</option>
                    </select>
                </div>
            </div>
            <div class="sorting">
                <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
            </div>
        </form>
        <a href="{% url 'create_ancete'%}">
                <button  class="create-ad-button">–°–æ–∑–¥–∞—Ç—å –∞–Ω–∫–µ—Ç—É</button>
                </a>
        <div class="user-list">

            {%for user in users%}
            <div class="user-card">
                <div class="user-images">
                    {%for file in user.avatars.all%}
                    {% if file.get_type == 'photo' %}
                    <img src="data:image/png;base64,{{file.get_data}}" alt="–§–æ—Ç–æ 1">
                    {%else%}
                    <video controls>
                        <source src="data:video/mp4;base64,{{file.get_data}}" type="video/mp4">
                        –¢–≤–æ–π –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –≤–∏–¥–µ–æ.
                    </video>
                    {%endif%}
                    {%endfor%}
                </div>
                <div class="user-info">
                    <p>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {{user.name}}</p>
                    <p>{{user.age}} –ª–µ—Ç, {{user.city}}</p>
                    <p>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{user.category}}</p>
                    <p>–û–ø–∏—Å–∞–Ω–∏–µ: {{user.description}}</p>
                    <p>–ú—ç—Ç—á–∏: {{user.like_users.all.count}}</p>
                    <p>–í–µ—Ä–µ—Ñ–∏–∫–∞—Ü–∏—è: {{user.check_verefi}}</p>
                    <p>–°—Ç–∞—Ç—É—Å: {{user.check_ban}}</p>
                </div>
                <div class="user-actions">
                    <a href="{% url 'ban_profile' user.id%}">
                        <button>–ó–∞–±–∞–Ω–∏—Ç—å/—Ä–∞–∑–±–∞–Ω–∏—Ç—å</button>
                    </a>
                    <a href="{% url 'edit_profile' user.id%}">
                        <button>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∫–µ—Ç—É</button>
                    </a>
                    <a href="{% url 'delete_profile' user.id%}">
                        <button>–£–¥–∞–ª–∏—Ç—å –∞–Ω–∫–µ—Ç—É</button>
                    </a>
                </div>
            </div>
            {% endfor%}
        </div>
    </div>
</div>
</body>
</html>
